= Корисні інструменти для учасників Slint

== Transifex

Платформа Transifex спрощує взаємодію перекладачів, будучи місцем, де
команда перекладачів може централізовано зберігати свої PO-файли та
розповсюджувати інформацію. Доступний онлайн-редактор, який також підходить
і для ревізії перекладів.

Інструкції з використання дивіться у http://support.transifex.com/[Центрі
допомоги Transifex].

Ви можете використовувати онлайн-редактор Transifex за потреби, але:

* на всяк випадок не забувайте частіше робити локальні резервні копії
* форматування тексту перекладів легше виконувати та перевіряти локально, за
  допомогою спеціялізованих PO-редакторів, як-от **Lokalize** або **Poedit**

Для перекладу веб-сторінок у форматі asciidoc використання Transifex
обов’язкове (дивіться нижче).

WARNING: Якщо Ви надаєте перевагу локальному перекладу, обирайте на Transifex
'Завантажити для перекладу' (а не 'Завантажити для використання') і
'Заблокувати цей переклад, аби попередити інших, що ви працюєте над ним'. Це
завадить дублюванню зусиль… Декілька членів команди можуть одночасно
працювати над одним великим PO-файлом, якщо домовляться, хто яку частину
перекладатиме.

[TIP]
=========
Transifex не переносить рядки перекладеного тексту. Це призводить до появи
*дуже* довгих рядків, ускладненню читання у текстовому редакторі, ба навіть
до завеликого завантаження процесора. Щоб уникнути цього, після завантаження
PO-файлу наберіть:

----
  msgcat файл_завантажений_з_Transifex > перейменований_файл
----

і використовуйте 'Lokalize' або 'Poedit' для перекладу
*перейменованого_файлу*. Цей файл буде з перенесеннями рядків, але в іншому
буде ідентичний завантаженому файлу, тому це не зашкодить.
=========
Якщо перекладаєте локально, не забувайте відвантажувати відкоригований файл
на Transifex, призупиняючи роботу з ним, не тримайте блокування без потреби.


== Lokalize

'Lokalize' входить до складу Slackware. Ви можете або прочитати Lokalize
Handbook http://docs.kde.org/development/en/kdesdk/lokalize/index.html[у
мережі], або з меню Допомога, натиснувши [F1]. Рекомендовані налаштування:

* Налаштування => Налаштувати Lokalize => Ідентифікація: Обрати мову
  (встановити до цільової мови).
* Налаштування => Налаштувати Lokalize => Зовнішній вигляд: Обрати шрифт
  фіксованої ширини із зарубками (моноширинний), наприклад Courier. Це
  дозволить розрізняти 0 (цифра) та O (літера) або | (пайп) і I (літера) й
  перевіряти форматування, наприклад вирівнювання перших слів на послідовних
  рядках.
* Налаштування => Налаштувати Lokalize => Зовнішній вигляд: Обрати 'Індикатори
  стану для виділення неперекладених і неточних рядків', також, як 'позиція
  курсора у стовпчику', дуже зручно для перевірки довжини рядків, коли це має
  значення.

== Poedit

'Poedit' не постачається зі Slackware, але доступний на
http://slackbuilds.org[SlackBuilds.org].

У нього не вистачає зручних функцій для перевірки довжини рядка, але в
іншому його функціонал аналоґічний Lokalize, тож можна обирати один або
інший редактор за власним смаком.

У Редагування => Налаштування => Редактор позначте 'Автоматично перевіряти
орфоґрафію' та, як і в Lokalize, оберіть шрифт фіксованої ширини із
зарубками.

== Використання сценаріїв, що містяться у тарболі Slint

Цей стиснений архів містить усе необхідне для створення продуктів slint, як
й інструменти для учасників slint. Він зветься slint-[дата].tar.xz і
знаходиться в каталозі https://slint.fr/pub[pub/].

Аби розпакувати його, наберіть:

----
  tar xf slint-[дата].tar.xz
----
  
З’явиться каталоґ slint-[дата]. Дивіться файл CONTENT.TXT у ньому для
детальнішої інформації, таблиця нижче показує лише сценарії, що
використовуються для створення продуктів slint та інструменти для
перекладачів. Усі шляхи вказано відносно цього каталоґу.

[format="psv", options="header,autowidth"]
|========
|Ім'я сценарію та розташування|Призначення
|build/slint.sh |Створює гібридний (CD/DVD або USB) образ встановника Slint або дистрибутив Slackware зі встановником Slint.
|build/make_slint_packages |Інтернаціоналізує різні пакети Slackware і створить пакет SlintLocales.
|build/slintLocales |Створює пакунок, що містить усі оновлені переклади сценаріїв Slackware, що входять до інсталяторів Slint (усіх версій) або інструментів для Slackware.
|tools_for_translators/toolbox.sh |Цей сценарій керує перекладами повідомлень, зібраних у slackware.pot.
|tools_for_translators/toolbox_slint_sh |Цей сценарій керує перекладами повідомлень, що виводяться сценарієм slint.sh .
|tools_for_translators/generate_man_pages |Створює перекладені сторінки керівництв для різних інструментів Slackware. Дозволяє перевіряти PO-файли. Використання цього сценарію потребує встановленого пакунку po4a, доступного у каталозі https://slint.fr/packages/extra[extra/].
|========
 
=== Як перевіряти переклади встановника Slackware та сценаріїв адміністратора

Ресурс https://www.transifex.com/projects/p/slint/resource/slint/[slint],
файл slackware.pot

Коли ви закінчите переклад, перемістіть файл до каталоґу wip/,
(пере)йменуйте, наприклад, у uk_UK.slackware.po, потім запустіть на
виконання /path/to/tools_for_translators/toolbox.sh й оберіть у меню
перевірити_PO. Якщо все йде добре:

. Скопіюйте uk_UK.slackware.po до каталоґу po/ (переклад українською у цьому
  прикладі)
. Запустіть /path/to/build/SlintLocales.SlackBuild, аби додати оновлений
  переклад до пакунку SlintLocales
. Запустіть /path/to/build/slint.sh для створення гібридного CD або USB образу
  інсталятора
. Розгорніть образ на CD або USB-флешку
. Спробуйте встановити (очевидно, українською мовою в цьому випадку), на
  віртуальну або справжню машину

TIP: Аби запустити встановника у віртуальній машині, ви можете використовувати
файл .iso як віртуальний носій, у цьому випадку, записувати його на фізичний
носій не потрібно.

=== Як перевіряти переклади файлу slint.sh

Ресурс:
https://www.transifex.com/projects/p/slint/resource/pot-file-for-slintsh/[POT
file for slint.sh]

Коли ви закінчите переклад, перемістіть файл до каталоґу wip/, перейменуйте,
наприклад, у uk_UK.slint.po для української, потім запустіть
/path/to/tools_for_translators/toolbox_slint_sh й оберіть у меню
перевірити_PO.

Якщо все йде добре, знову запустіть
/path/to/tools_for_translators/toolbox_slint_sh, але оберіть формат_PO у
меню. Якщо все йде добре, буде згенеровано й поміщено до відповідного
каталоґу у дереві slint-[дата] файл slint.mo (у цьому прикладі
slint_locales/uk/LC_MESSAGES).

Потім спробуйте Ваш переклад, порівнюючи з англійською та німецькою версіями
командами на зразок:

----
  /path/to/build/slint.sh
  LANG=de_DE.utf8 /path/to/build/slint.sh
----
 
=== Як перевіряти переклади сторінок керівництв, що входять до пакунків pkgtools і slackpkg

Ресурси:
https://www.transifex.com/projects/p/slint/resource/pkgtools/[pkgtools] and
https://www.transifex.com/projects/p/slint/resource/slackpkg/[slackpkg]

Знову ж таки, перемістіть PO-файл до каталоґу wip/, (пере)йменуйте,
наприклад, у uk.pkgtools.po (сторінки керівництв, що входять до пакунка
pkgtools українською). Потім виконайте команду:

----
   /path/to/tools_for_translators/generate_man_pages es.pkgtools
----
   
Якщо все йде добре, сценарій створить усі сторінки керівництв (у цьому
випадку: uk.explodepkg, uk.installpkg, uk.makepkg, uk.pkgtool, uk.removepkg,
uk.upgradepkg). В іншому випадку, читайте повідомлення про помилки, уносьте
потрібні зміни та спробуйте ще раз. Ви можете уникнути багатьох помилок,
прочитавши link:contribute.html#warning_man_pages[Попередження].

Аби порівняти перекладені сторінки керівництв з оригінальними, виконайте,
наприклад, це (приклад для перекладу українською):

----
  cd /path/to/wip/
  LANG=uk_UA.utf8 GROFF_ENCODING=utf8 man ./installpkg # перекладене керівництво
  GROFF_ENCODING=utf8 man installpkg # оригінальне керівництво
----
  
Аби не набирати "GROFF_ENCODING=utf8" щоразу, додайте цей рядок до
~/.bashrc:

----
  export GROFF_ENCODING=utf8
----

[[asciidoc]]
== Переклад текстових файлів, що обробляються 'AsciiDoc' при створені веб-сторінок

Як показано у link:contribute.html#new_web_pages[Переклад веб-сторінок],
такі сторінки створено 'asciidoc' із джерельних текстових файлів:
link:slint.html[slint.html], link:installer.html[installer.html],
link:package.html[package.html], link:contribute.html[Contribute],
link:translators.html[Translators], link:tools.html[Tools] та
link:changelog.html[ChangeLog], так само, як
https://www.transifex.com/projects/p/slint/resource/templatepo/[template.po].

Ці файли потрібно перекладати за допомогою онлайн-редактора Transifex:
спроба вивантажити перекладений текстовий файл на Transifex закінчується
невдачею з повідомленням про невідому помилку редактора, тому переклад цих
файлів локально й вивантаження їх на Transifex - не варіянт.

Але онлайн-редактор Transifex має перевагу в тому, що дозволяє додавати до
файлів перекладів рядки та цілі параґрафи, зберігаючи при цьому прив'язку до
рядків оригінального англійського файлу.

Це дозволяє перекладачам змінювати їхні переклади, додаючи інформацію,
специфічну до їх локалі, до прикладу, про те, як користувач може отримати
допомогу цією мовою або у цій країні, або ж про посилку на локалізовану
документацію та інше.

[TIP]
====
Під час оновлення оригінального англомовного файлу, ті рядки тексту в
перекладі, які збігаються з рядками, що змінилися з англомовного файлу, буде
відкинуто.

Наразі, ви можете зберегти те, що набирали, якщо зробите копію перекладу
(завантаживши його з Transifex), згодом ви можете скопіювати старий переклад
із цієї локальної копії та вставити його у редакторі Transifex, за потреби
відредагувавши.

Навіть простіше, якщо клацнути "Код сторінки" внизу меню нової веб-сторінки,
буде показано відповідний джерельний текстовий файл.

Окрім того, редактор Transifex має можливість «Пропозиції» (аналоґічну
«Пам'яті перекладів» у Lokalize), яка «запам'ятовує» схожі нещодавні
переклади рядків. Ця можливість може бути дуже корисною, коли б сторінку
сайту не було оновлено. Transifex пам'ятає Ваш останній переклад і надає
посилання «Використовуйте це», Ви можете просто скористатися нею, уникнувши
набору та перекладу вдруге.
====

.Ознайомтеся із синтаксисом розмітки AsciiDoc
Основний документ - це http://asciidoc.org/userguide.html[Керівництво
користувача AsciiDoc], але спершу, прочитайте
http://powerman.name/doc/asciidoc[шпаргалки з AsciiDoc]. Ще швидше, зі
встановленим 'AsciiDoc', така команда:
----
asciidoc --help syntax > asciidoc.txt
----
Вона запише до файлу asciidoc.txt загальні відомості про синтаксис розмітки
AsciiDoc, які Ви можете прочитати або роздрукувати.

.Зберігайте розмітку
Ретельно зберігайте розмітку, як є. Наприклад, додавання або вилучення
пробілів, або символів «нового рядка» може привести до несподіваного
результату. Нижче наведено кілька прикладів:

* Початок параґрафу з пробілу призведе до створення 'буквального параґрафу',
  що показується спеціяльним шрифтом
* «= текст» призведе до створення заголовку рівня 0 (заголовка документу), але
  тільки, якщо «=» — першим символом у рядку, є пробіл після нього та порожній
  рядок перед ним.
* додано у кінець рядка «\+» призведе до створення 'розривання рядка' тільки,
  якщо перед «+» стоїть пробіл.

WARNING: Для уникнення плутанини з кодами форматування, рекомендуємо спершу копіювати
початковий (англійський) рядок до перекладу (просто клацнувши на піктоґраму
з двома аркушами праворуч над початковим рядком), і вже опісля відредагувати
його.

.Перевірка зовнішнього вигляду Вашого перекладу
Ви легко можете перевірити, як виглядає сторінка, створена з Вашого
перекладу. Просто виконайте це:
----
lftp -c "mirror https://slint.fr/website/"
Завантажте Ваш переклад із Transifex (дамо йому ім’я <translation.txt>) до каталоґу website, створений попередньою командою
cd website
CONFIG_FILE=slint.conf.en
# Необов'язково, якщо заголовок та меню, перекладені Вашою мовою, завантажено на веб-сайт:
wget https://slint.fr/slint.conf.ll; CONFIG_FILE=slint.conf.ll # заміна «ll» на код Вашої мови (дві літери)
# потім створіть веб-сторінку
asciidoc -b xhtml11 -a icons -f $CONFIG_FILE <translation.txt> # ця команда створить <translation.html>
firefox <translation.html> &
----

.Перекладати чи ні, ось питаннячко
Ці слова мають спеціяльне значення в AsciiDoc, і не мають перекладатися,
коли вони розпочинають абзац із попередженням (вони замінюються значками):
TIP, NOTE, IMPORTANT, WARNING та CAUTION.

Власне кажучи, посилання та URL не мають перекладатися, проте їх заголовки -
можна, у залежності від контексту. У таких прикладах (отриманих із висновку
'asciidoc --help syntax') тільки значення 'caption' можна перекладати:
----
Посилання на документ:
[[id]] (визначає мету посилання)
<<id,заголовок>> (посилання на призначений id)
link:filename#id[заголовок] (посилання на зовнішній HTML-файл)

Адреси URL:
http:address[заголовок] (посилання на веб-сторінку)
mailto:address[заголовок] (посилання на одержувача електронної пошти)

Зображення:
image:filename[заголовок] (вбудоване зображення)
image::filename[заголовок] (блок із зображенням)
----



